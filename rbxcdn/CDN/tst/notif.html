<html>
  <head>
    <title>notif testing</title>
    <link href="https://rbxcdn.vercel.app/rbxcdn/CDN/media/testfavi.png" rel="icon" />
  </head>
  <body>
    <h1>An notification request or notification will pop up soon...</h1>
    <script>
          document.addEventListener('DOMContentLoaded', () => {
      if (Notification.permission !== "granted") {
        Notification.requestPermission().then(permission => {
          if (permission === "granted") {
            console.log("Notification permission granted.");
          } else {
            console.warn("Notification permission denied.");
          }
        });
      }
    });
    function sendNotification() {
      if (Notification.permission === "granted") {
        const notification = new Notification("test worked", {
          body: "the notification test worked!",
          icon: "https://rbxcdn.vercel.app/rbxcdn/CDN/media/testfavi.png"
        });
        notification.onclick = () => {
          window.focus();
          alert("worked!");
          window.open("https://rbxcdn.vercel.app/rbxcdn/CDN/media/success.html", "popupWindow", "width=1000,height=800");
        };
      } else {
        window.focus();
        alert("notif perms required to make this test work!!");
        window.open("https://rbxcdn.vercel.app/rbxcdn/CDN/media/unsuccessful.html", "popupWindow", "width=1000,height=800");
      }
    }
    sendNotification()
    </script>
  </body>
</html>
